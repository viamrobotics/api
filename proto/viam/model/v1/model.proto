syntax = "proto3";

package proto.viam.model.v1;

import "google/protobuf/any.proto";
import "google/protobuf/struct.proto";
import "google/protobuf/timestamp.proto";

option go_package = "go.viam.com/api/proto/viam/datasync/v1";

service DataSyncService {
  rpc Upload(stream proto.viam.model.v1.UploadRequest) returns (proto.viam.model.v1.UploadResponse);
}



message UploadMetadata {
  string org_id = 0;
  string file_name = 1;
}

message UploadRequest {
  UploadMetadata metadata = 0;
}

message UploadResponse {
  String status = 0;
}


message CaptureInterval {
  google.protobuf.Timestamp start = 1;
  google.protobuf.Timestamp end = 2;
}

message Time {
  oneof time {
    CaptureInterval sensor_capture_interval = 1;
    google.protobuf.Timestamp sync_time = 2;
  }
}

message SyncedFile {
  Time time = 0;
  string org_id = 1;
  string blob_path = 2;
}
